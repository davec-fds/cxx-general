# Imports from caller.
Import('*')

# Include the parent directory.
env.Append(CPPPATH = ['..'])

# Define testing environment.
env.Append(CPPDEFINES = ['TESTING'])

# Create program-specific environments.
#env_ArbInt = env.Copy()
#cArbInt.apply(env_ArbInt)
#env_Arb = env.Copy()
#cArb.apply(env_Arb)
#env_Timestamp = env.Copy()
#cTimestamp.apply_includes(env_Timestamp)
#env_INIFile = env.Copy()
#cINIFile.apply(env_INIFile)

# Object files.
o_NumInfo   = env          .Object(target = 'NumInfo'  , source = ['NumInfo.c++'  ])
o_demangle  = env          .Object(target = 'demangle' , source = ['demangle.c++' ])
o_Exception = env          .Object(target = 'Exception', source = ['Exception.c++'])
o_to_string = env          .Object(target = 'to_string', source = ['to_string.c++'])
o_SafeInt   = env          .Object(target = 'SafeInt'  , source = ['SafeInt.c++'  ])
#o_ArbInt    = env_ArbInt   .Object(target = 'ArbInt'   , source = ['ArbInt.c++'   ])
#o_Arb       = env_Arb      .Object(target = 'Arb'      , source = ['Arb.c++'      ])
#o_Timestamp = env_Timestamp.Object(target = 'Timestamp', source = ['Timestamp.c++'])
#o_INIFile   = env_INIFile  .Object(target = 'INIFile'  , source = ['INIFile.c++'  ])

# Programs.
env          .Program(target = 'NumInfo'  , source =                            [o_NumInfo  ])
env          .Program(target = 'demangle' , source =                            [o_demangle ])
env          .Program(target = 'Exception', source =                            [o_Exception])
env          .Program(target = 'to_string', source =                            [o_to_string])
env          .Program(target = 'SafeInt'  , source =                            [o_SafeInt  ])
#env_ArbInt   .Program(target = 'ArbInt'   , source = cArbInt   .get_objects() + [o_ArbInt   ])
#env_Arb      .Program(target = 'Arb'      , source = cArb      .get_objects() + [o_Arb      ])
#env_Timestamp.Program(target = 'Timestamp', source = cTimestamp.get_objects() + [o_Timestamp])
#env_INIFile  .Program(target = 'INIFile'  , source = cINIFile  .get_objects() + [o_INIFile  ])
